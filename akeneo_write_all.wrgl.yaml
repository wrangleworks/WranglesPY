read:
  - file:
      name: Akeneo Test Data.xlsx
      sheet_name: Data to Write ALL
      
wrangles:
  - create.column:
      output: data
      value: data

  - merge.key_value_pairs:
      input:
        data: Name
      output: Name

  - split.text:
      input: Weight
      output:
        - amount
        - unit
      char: ' '
      
  - standardize:
      input: unit
      model_id: 49b583d9-114f-4303
  
  - merge.to_dict:
      input:
        - amount
        - unit
      output: Weight

  - merge.key_value_pairs:
      input:
        data: Weight
      output: Weight
      
  - split.text:
      input: USD
      output:
        - amount
        - currency
      char: ' '
  
  - merge.to_dict:
      input:
        - amount
        - currency
      output: USD

# Only if it is one currency
  - merge.to_list:
      input:
        - USD
      output: USD
  
  - merge.key_value_pairs:
      input:
        data: USD
      output: USD

  # Adding another currency to the product
  # - split.text:
  #     input: GBP
  #     output:
  #       - amount
  #       - currency
  #     char: ' '
      
  # - merge.to_dict:
  #     input:
  #       - amount
  #       - currency
  #     output: GBP
      
      
      
  - merge.key_value_pairs:
      input:
        data: In_Stock
      output: In_Stock
      
  - create.column:
      output: scope
      value: ecommerce
  - create.column:
      output: locale
      value: ${None_Value}
      
  - merge.to_dict:
      input:
        - scope
        - locale
      output: scope_ecom